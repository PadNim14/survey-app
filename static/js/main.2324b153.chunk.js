(this["webpackJsonpsurvey-app"]=this["webpackJsonpsurvey-app"]||[]).push([[0],{38:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var i=n(3),a=n(2),o=n.n(a),s=(n(24),n(27)),r=n.n(s),u=(n(38),n(39),n(28)),l=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),i(e),a(e),o(e),s(e)}))},c=n(30),d=(n(43),c.a.initializeApp({apiKey:"AIzaSyDKq7ac8s-ZlpDmlShbqgPAOzio-zKA-3I",authDomain:"hit-with-database.firebaseapp.com",projectId:"hit-with-database",storageBucket:"hit-with-database.appspot.com",messagingSenderId:"674336402509",appId:"1:674336402509:web:de9c2fecaf15c008aa8004",measurementId:"G-D6VXTFGF0R"}).firestore()),p=n(31);u.StylesManager.applyTheme("darkrose");var y={title:"ACS Symptom Checklist",description:"Select 1 if you strongly disagree with the statement; click 5 if you strongly agree with the statement. Otherwise, rate your answer accordingly.",completedHtml:'<!DOCTYPE html>\n<html lang="en">\n    <head>\n        <h1>Thank you for completing the survey </h1>\n        <a href="https://padnim14.github.io/survey-app/"> Take survey again </a>\n    </head>\n</html>',pages:[{name:"page1",elements:[{type:"text",name:"question16",title:"Please enter your name (first name & last name)",isRequired:!0,requiredErrorText:"Please enter your first and last name.\n\n"},{type:"rating",name:"question1",title:"How do you feel today?",defaultValue:0},{type:"rating",name:"question2",title:"Did you sleep well last night?",defaultValue:0},{type:"rating",name:"question3",title:"How do you rate the swelling in your lungs?",defaultValue:0},{type:"rating",name:"question4",title:"How is your breathing?",defaultValue:0},{type:"rating",name:"question5",title:"How is your stomach?",defaultValue:0},{type:"rating",name:"question6",title:"How does your head feel?",defaultValue:0},{type:"rating",name:"question7",title:"How is your pulse?",defaultValue:0},{type:"rating",name:"question8",title:"How does your chest feel?",defaultValue:0},{type:"expression",name:"risk score",title:"Your Risk Score:",expression:"{question1} + {question2} + {question3} + {question4} + {question5} + {question6} + {question7} + {question8} + {question9} + {question10} + {question11} + {question12} + {question13}"}],title:"ACS Symptom Checklist",description:"Please indicate all symptoms that you are currently experiencing or experienced before you called 911 today or came to the Emergency Department today."}],date:new Date};function g(){return(g=Object(i.a)(o.a.mark((function e(t){var n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Searching for: "+t.data.question16),n=d.collection("patients"),e.next=4,n.where("name","==",t.data.question16).get();case 4:i=e.sent,console.log("Query done"),i.empty?console.log("Patient not found!"):(console.log("query not empty?"),i.forEach((function(e){d.collection("patients").doc(e.id).collection("surveys").add({overall_feeling:JSON.stringify(t.data.question1),sleep_quality:JSON.stringify(t.data.question2),lung_swelling:JSON.stringify(t.data.question3),breathing:JSON.stringify(t.data.question4),stomach_condition:JSON.stringify(t.data.question5),headache:JSON.stringify(t.data.question6),pulse:JSON.stringify(t.data.question7),chest_pain:JSON.stringify(t.data.question8),risk_score:JSON.stringify(t.data["risk score"]),date:JSON.stringify((new Date).toString())}).then((function(){console.log("Checkpoint: Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)})),t.data["risk score"]<15?d.collection("patients").doc(e.id).update({priority:3}):t.data["risk score"]<25?d.collection("patients").doc(e.id).update({priority:2}):t.data["risk score"]<41?d.collection("patients").doc(e.id).update({priority:1}):d.collection("patients").doc(e.id).update({priority:0})})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r.a.render(Object(p.jsx)(u.Survey,{json:y,onComplete:function(e){return g.apply(this,arguments)}}),document.getElementById("surveyContainer")),l()}},[[42,1,2]]]);
//# sourceMappingURL=main.2324b153.chunk.js.map